<!doctype html>
<html lang="zh-Hans" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.0.1">
<title data-rh="true">巧用CSS遮罩 | AUV的博客</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://auver.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://auver.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://auver.github.io/css-mask"><meta data-rh="true" property="og:locale" content="zh_Hans"><meta data-rh="true" name="docusaurus_locale" content="zh-Hans"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="zh-Hans"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="巧用CSS遮罩 | AUV的博客"><meta data-rh="true" name="description" content="1. 用法 ##"><meta data-rh="true" property="og:description" content="1. 用法 ##"><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2016-12-01T10:00:00.000Z"><meta data-rh="true" property="article:author" content="https://github.com/auver"><meta data-rh="true" property="article:tag" content="css"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://auver.github.io/css-mask"><link data-rh="true" rel="alternate" href="https://auver.github.io/css-mask" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://auver.github.io/css-mask" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/rss.xml" title="AUV的博客 RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/atom.xml" title="AUV的博客 Atom Feed"><link rel="stylesheet" href="/assets/css/styles.d6b19917.css">
<script src="/assets/js/runtime~main.67b0a245.js" defer="defer"></script>
<script src="/assets/js/main.3b26031b.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav aria-label="主导航" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">AUV的博客</b></a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="最近博文导航"><div class="sidebarItemTitle_pO2u margin-bottom--md">所有文章</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/sourcemap">SourceMap格式详解</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/babel-plugin">Babel插件指南</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/rxjs-ipc">基于RxJs封装友好的跨进程（页面）通信</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/electron-apps-automatically-update">从0到1，实现Electron应用自动更新功能</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/react-hooks-best-practices">React Hooks 最佳实践</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/rxjs-on-the-netease-cloud-music-desktop">云音乐桌面端基于 RxJs 的数据层探索</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/hot-vs-cold-observables">Observable的冷与热</a></li><li class="sidebarItem__DBe"><a aria-current="page" class="sidebarItemLink_mo7H sidebarItemLinkActive_I1ZP" href="/css-mask">巧用CSS遮罩</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="https://schema.org/Blog"><article itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting"><meta itemprop="description" content="1. 用法 ##"><header><h1 class="title_f1Hy" itemprop="headline">巧用CSS遮罩</h1><div class="container_mt6G margin-vert--md"><time datetime="2016-12-01T10:00:00.000Z" itemprop="datePublished">2016年12月1日</time> · <!-- -->阅读需 4 分钟</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/auver" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/auver.png" alt="Auver" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/auver" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Auver</span></a></div><small class="avatar__subtitle" itemprop="description">全干工程师</small></div></div></div></div></header><div id="__blog-post-container" class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="1-用法">1. 用法<a href="#1-用法" class="hash-link" aria-label="1. 用法的直接链接" title="1. 用法的直接链接">​</a></h2>
<p>-webkit-mask样式是利用该属性指定的图片作为遮罩，利用这张图像的透明度来显示位于该遮罩图下方的图像。如果遮罩图某个像素点透明度为1则显示下方的图像，透明度为0则不显示，介于0-1之间则呈现相应的透明度。
详情参考 <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/mask" target="_blank" rel="noopener noreferrer">mask - CSS | MDN</a>
可以看到，mask的语法基本上拷贝自background，可以设置遮罩的url, position, repeat, size等属性，但不能直接设置颜色（纯色的遮罩意味着用opacity就能实现）。-webkit-mask-url可以设置gradients的渐变图片，也可以设置base64编码的图片。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="2-利用mask实现图标变色">2. 利用mask实现图标变色<a href="#2-利用mask实现图标变色" class="hash-link" aria-label="2. 利用mask实现图标变色的直接链接" title="2. 利用mask实现图标变色的直接链接">​</a></h2>
<p>想让图标可以任意变色，常见的方案有：font-awesome, SVG等，甚至还有<a href="http://www.zhangxinxu.com/wordpress/2016/06/png-icon-change-color-by-css/" target="_blank" rel="noopener noreferrer">drop-shadow</a>。其实可以利用background变色，而利用遮罩去绘制图标。遮罩透过的地方是图标的填色部分，而遮罩盖过的地方则没有颜色。
这种方法的优点就是转换成本极低，可以直接利用已有的图标PNG图。具体方法如下：</p>
<ul>
<li>
<p>将图标保存为PNG图，注意非图标区域应该是透明的。如果原有图标是sprite图，没关系，不用变，因为mask支持position属性。原先输出的图标不是纯黑色的？也没关系，因为mask样式只认你图片的透明通道</p>
</li>
<li>
<p>设置图标的CSS，例如：</p>
</li>
</ul>
<div class="language-css codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-css codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token selector class" style="color:#00009f">.m-mask</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token property" style="color:#36acaa">width</span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">141</span><span class="token unit">px</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token property" style="color:#36acaa">height</span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">141</span><span class="token unit">px</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token property" style="color:#36acaa">-webkit-mask-image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token url function" style="color:#d73a49">url</span><span class="token url punctuation" style="color:#393A34">(</span><span class="token url" style="color:#36acaa">mask.png</span><span class="token url punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token property" style="color:#36acaa">background</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token hexcode color">#3f51b5</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>这样就好了，效果如下</li>
</ul>
<p><img loading="lazy" alt="link" src="data:image/png;base64,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" width="166" height="163" class="img_ev3q"></p>
<p>完全可以把此时的background-color理解成Photoshop中的颜色叠加</p>
<p><img loading="lazy" alt="ps" src="/assets/images/ps-4934ca09216dca5ec08fd0d87af43a66.png" width="817" height="535" class="img_ev3q"></p>
<p>如果结合less sass，就可以做到自定义换肤了</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="3利用mask修复圆角头像的毛边">3.利用mask修复圆角头像的毛边<a href="#3利用mask修复圆角头像的毛边" class="hash-link" aria-label="3.利用mask修复圆角头像的毛边的直接链接" title="3.利用mask修复圆角头像的毛边的直接链接">​</a></h2>
<p>在实际的开发过程中，发现在较高版本的Chrome浏览器中，我们的圆角头像出现了无法容忍的毛边，定位到问题的原因是这样的：外层div利用background设置了垫底的默认图，设置了border-radius:50%。而内层的img为实际头像图，也设置了border-radius:50%。理论上两个相等大小、相同圆角的元素，也未设置任何定位，那么应该是头像完整盖着默认图。但实际并未如此，而是头像略小于默认图，因而出现了毛边。</p>
<p><img loading="lazy" alt="avatar" src="/assets/images/avatar-22c90e31d8fcd0aa6d32d932c12a50b5.jpg" width="216" height="80" class="img_ev3q"></p>
<p>因此我们可以为外层div添加一个样式</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">-webkit-mask-image: url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAAA1BMVEUAAACnej3aAAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==&#x27;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>url中设置的其实是1像素高宽的黑色图片，那么此时的遮罩就相当于外层div设置圆角区域后的一个不透明的圆形。此时就可以去掉img上的boder-radius了。最后效果如下，完美！</p>
<p><img loading="lazy" alt="avatar" src="/assets/images/avatar-eedb89ca49c253d5211df5ca14761717.png" width="81" height="80" class="img_ev3q"></p></div><footer class="row docusaurus-mt-lg blogPostFooterDetailsFull_mRVl"><div class="col"><b>标签：</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/css">css</a></li></ul></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="博文分页导航"><a class="pagination-nav__link pagination-nav__link--prev" href="/hot-vs-cold-observables"><div class="pagination-nav__sublabel">较新一篇</div><div class="pagination-nav__label">Observable的冷与热</div></a></nav></main><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#1-用法" class="table-of-contents__link toc-highlight">1. 用法</a></li><li><a href="#2-利用mask实现图标变色" class="table-of-contents__link toc-highlight">2. 利用mask实现图标变色</a></li><li><a href="#3利用mask修复圆角头像的毛边" class="table-of-contents__link toc-highlight">3.利用mask修复圆角头像的毛边</a></li></ul></div></div></div></div></div><footer class="footer"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 Auver. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>